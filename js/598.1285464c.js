"use strict";(self["webpackChunklove"]=self["webpackChunklove"]||[]).push([[598],{7598:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"left"},[e("div",{staticClass:"introduce"},[e("span",{staticClass:"imgCon"},[e("img",{attrs:{src:t.oneWishItem.imgUrl,alt:""}})]),e("div",{staticClass:"flexR"},[e("h1",[t._v(t._s(t.oneWishItem.name))]),e("span",[t._v("活动编号："),e("i",[t._v("P2023"+t._s(t.oneWishItem.id)+t._s(t.oneWishItem.needMember))])]),e("span",[t._v("目标人数："),e("i",[t._v(t._s(t.oneWishItem.needMember))]),t._v(" 人")]),e("span",[t._v("还可报名："),e("i",[t._v(t._s(t.oneWishItem.needMember-t.oneWishItem.enrollMember))]),t._v(" 人")]),e("span",[t._v("发布时间："),e("i",[t._v(t._s(t._f("timeFilter")(t.oneWishItem.createTime)))])])])]),e("div",{staticClass:"detailedInfo"},[e("div",{staticClass:"timeClass"},[e("span",[e("em",[t._v("项目状态：")]),e("i",{staticClass:"status"},[t._v(t._s(t.status))])]),e("span",[e("em",{staticStyle:{width:"135px"}},[t._v("预估发放积分：")]),e("i",{staticClass:"status"},[t._v(t._s(t.oneWishItem.integral)+" 积分")])])]),e("div",{staticClass:"timeClass"},[e("span",[e("em",[t._v("开始时间：")]),e("i",[t._v(t._s(t._f("timeFilterMin")(t.oneWishItem.startTime)))])]),e("span",[e("em",[t._v("结束时间：")]),e("i",[t._v(t._s(t._f("timeFilterMin")(t.oneWishItem.endTime)))])])]),e("span",[e("em",[t._v("报名方式：")]),e("i",[t._v("验证信息加入 "),e("el-button",{staticClass:"btnAudit",attrs:{type:"text"},on:{click:t.dialogChange}},[t._v(" (点击进行审核报名) ")])],1)]),e("span",[e("em",[t._v("详细地址：")]),e("i",{staticClass:"status"},[t._v(t._s(t.oneWishItem.address))])])]),e("div",{staticClass:"project"},[e("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"活动详情",name:"first"}},[e("p",[t._v(t._s(t.oneWishItem.desp))])]),e("el-tab-pane",{attrs:{label:"报名信息",name:"second"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.useEnrollInfo}},[e("el-table-column",{attrs:{prop:"memberName",label:"姓名"}}),e("el-table-column",{attrs:{prop:"station",label:"岗位"}}),e("el-table-column",{attrs:{prop:"enrollTime",label:"报名时间"}})],1)],1)],1)],1)]),e("div",{staticClass:"right"},[e("div",{staticClass:"source"},[e("h2",[t._v("项目发起方")]),e("div",{staticClass:"sourceIntro"},[e("img",{attrs:{src:s(8070),alt:""}}),e("div",[e("span",[t._v(t._s(t.oneWishItem.teamName))]),e("i",[t._v("地址："),e("em",[t._v(t._s(t.oneWishItem.teamAddress))])])])])]),e("div",{staticClass:"contacts"},[e("h2",[t._v("活动联系人")]),e("div",{staticClass:"detailContacts"},[e("div",[t._v(t._s(t.oneWishItem.contactName))]),e("span",[t._v("手机："+t._s(t.oneWishItem.contactPhone))])])])])])},a=[],n=(s(7658),s(3822)),l={name:"VolunteerActivity",data(){return{activeName:"first",tableData:[{name:"黄巨基",station:"现场服务志愿者",date:"2023-03-23"}],applysubmit:!0}},methods:{dialogChange(){this.applysubmit?0!=this.teamId?this.$confirm("确认提交将提交你报名志愿活动的信息, 是否继续?","提示",{confirmButtonText:"确定提交",cancelButtonText:"取消提交",type:"warning"}).then((()=>{let t={memberId:this.member.userId,itemId:this.$route.query.id};this.$store.dispatch("getJoinItem",t),setTimeout((()=>{0==this.joinCode?this.$message({message:"恭喜，您提交的志愿活动申请已提交！",type:"success"}):50007==this.joinCode&&this.$message({message:"您之前已经提交过了志愿活动申请！",type:"warning"})}),600)})).catch((()=>{this.$message({type:"info",message:"已取消提交"})})):this.$message({message:"请您先去申请加入服务队，再进行报名志愿活动",type:"warning"}):this.$message({message:"对不起，该活动当前不可报名，请关注最新的活动",type:"error"})}},mounted(){let t=this.$route.query.id;void 0!=t&&this.$store.dispatch("getWishItem",t)},computed:{...(0,n.rn)({member:t=>t.user.member,oneWishItem:t=>t.volunteerActivity.oneWishItem,teamId:t=>t.loveTeam.teamId,joinCode:t=>t.volunteerActivity.joinCode,EnrollInfo:t=>t.volunteerActivity.EnrollInfo}),useEnrollInfo(){for(let t=0;t<this.EnrollInfo.length;t++)this.EnrollInfo[t].enrollTime=this.EnrollInfo[t].enrollTime.split("T")[0],this.EnrollInfo[t].station="现场服务志愿者";return this.EnrollInfo},status(){if(""!=this.oneWishItem){let t=this.oneWishItem.startTime.split(".")[0];const e=new Date,s=new Date(t),i=s.getTime()-e.getTime();return i>0?"未开始":i<-1728e5?(this.applysubmit=!1,"已结束"):(this.applysubmit=!1,"不可报名")}}},watch:{dialogFormVisible(t,e){1==t?this.$router.push({query:{islogin:1}}):this.$router.push({query:{}})},activeName(t,e){"second"==t&&this.$store.dispatch("getEnrollInfo",this.$route.query.id)}},filters:{timeFilter(t){if(void 0!=t)return t.split("T")[0]},timeFilterMin(t){if(void 0!=t)return`${t.split("T")[0]} - ${t.split("T")[1].split(".")[0]}`}}},o=l,r=s(1001),m=(0,r.Z)(o,i,a,!1,null,"00ead871",null),c=m.exports},8070:function(t,e,s){t.exports=s.p+"img/zhiyuan.1a0f6361.png"}}]);